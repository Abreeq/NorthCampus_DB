<!DOCTYPE html>
<html>
<head>
  <title>Non-Teaching Staff</title>
  <style>
    table, th, td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 4px;
      font-size: 11px;
      text-align: center;
    }
    input, select {
      font-size: 11px;
    }
    th {
      background: #f0f0f0;
    }
  </style>
</head>
<body>
  <h2>29. Non-Teaching Information</h2>

  <form method="POST">
    <table>
      <tr>
        <th>SNO</th>
        <th>Staff Type</th>
        <th>Group</th>
        <th>Sanctioned</th>
        <th>Category</th>
        <th colspan="3">General</th>
        <th colspan="3">EWS</th>
        <th colspan="3">SC</th>
        <th colspan="3">ST</th>
        <th colspan="3">OBC</th>
        <th colspan="3">TOTAL</th>
        <th>PWD</th>
        <th>Muslim</th>
        <th>Minority</th>
        <th>Other Minority</th>
      </tr>
      <tr>
        <td><input name="sno" type="number" value="1" required></td>
        <td><input name="staff_type" required></td>
        <td><input name="group" required></td>
        <td><input name="sanctioned" type="number" value="0"></td>
        <td>
          <select name="category">
            <option>Total</option>
            <option>PWD</option>
            <option>Muslim</option>
            <option>Minority</option>
            <option>Other Minority</option>
          </select>
        </td>
        {% for cat in ['general','ews','sc','st','obc'] %}
          <td><input name="{{cat}}_male" type="number" value="0"></td>
          <td><input name="{{cat}}_female" type="number" value="0"></td>
          <td><input name="{{cat}}_trans" type="number" value="0"></td>
        {% endfor %}
        <td><input name="total_male" type="number" value="0"></td>
        <td><input name="total_female" type="number" value="0"></td>
        <td><input name="total_trans" type="number" value="0"></td>
        <td><input name="pwd" type="number" value="0"></td>
        <td><input name="muslim" type="number" value="0"></td>
        <td><input name="minority" type="number" value="0"></td>
        <td><input name="other_minority" type="number" value="0"></td>
      </tr>
      <!-- Corrected colspan to 27 -->
      <tr><td colspan="27"><button type="submit">Save Record</button></td></tr>
    </table>
  </form>

  <h3>Saved Records</h3>
  <table>
    <tr>
      <th>SNO</th>
      <th>Staff Type</th>
      <th>Group</th>
      <th>Sanctioned</th>
      <th>Category</th>
      {% for c in ['General','EWS','SC','ST','OBC'] %}
        <th colspan="3">{{c}}</th>
      {% endfor %}
      <th colspan="3">TOTAL</th>
      <th>PWD</th>
      <th>Muslim</th>
      <th>Minority</th>
      <th>Other Minority</th>
    </tr>
    {% for r in records %}
    <tr>
      <!-- Corrected range to 0â€“26 (27 columns total) -->
      {% for i in range(0,27) %}
        <td>{{ r[i] }}</td>
      {% endfor %}
    </tr>
    {% endfor %}
  </table>
</body>
</html>
